<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeoCascade | –û–±—ä–µ–∫—Ç–∏–≤–Ω–æ</title>
    <!-- –ò–∫–æ–Ω–∫–∞ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞ (favicon) -->
    <link rel="icon" type="image/png" href="https://i.ibb.co/zVGdFCv5/9qy1w-N7e9w-Vf-YHh-U.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header —Å –±—Ä–µ–Ω–¥–∏–Ω–≥–æ–º –∫–∞–Ω–∞–ª–∞ -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">
                    <img src="https://i.ibb.co/zVGdFCv5/9qy1w-N7e9w-Vf-YHh-U.png" 
                         alt="NeoCascade" 
                         style="width: 100%; height: 100%; object-fit: cover; border-radius: 12px;">
                </div>
                <div>
                    <h1 class="logo-text">NeoCascade</h1>
                    <p class="logo-subtext">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–º <strong>¬´–û–±—ä–µ–∫—Ç–∏–≤–Ω–æ¬ª</strong></p>
                </div>
            </div>
            <div id="botStatus" class="status-badge offline">
                <div class="status-dot offline"></div>
                <span>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è...</span>
            </div>
        </header>
        
        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞ -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-value" id="subscribersCount">42</div>
                <div class="stat-label">–ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-envelope"></i>
                </div>
                <div class="stat-value" id="postsCount">0</div>
                <div class="stat-label">–ü–æ—Å—Ç–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-value" id="uptime">00:00:00</div>
                <div class="stat-label">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="stat-value" id="weeklyGrowth">+0</div>
                <div class="stat-label">–ó–∞ –Ω–µ–¥–µ–ª—é</div>
            </div>
        </div>

        <!-- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="stats-detailed">
            <div class="stats-header">
                <h2><i class="fas fa-chart-line"></i> –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞</h2>
                <div style="display: flex; gap: 10px;">
                    <button class="btn-refresh" onclick="showAllPosts()">
                        <i class="fas fa-list"></i> –í—Å–µ –ø–æ—Å—Ç—ã
                    </button>
                    <button class="btn-refresh" onclick="refreshAllStats()">
                        <i class="fas fa-sync-alt"></i> –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                </div>
            </div>
            
            <div class="stats-tabs">
                <button class="tab-btn active" onclick="switchStatsTab('overview', event)">–û–±–∑–æ—Ä</button>
                <button class="tab-btn" onclick="switchStatsTab('posts', event)">–ü–æ—Å—Ç—ã</button>
                <button class="tab-btn" onclick="switchStatsTab('audience', event)">–ê—É–¥–∏—Ç–æ—Ä–∏—è</button>
                <button class="tab-btn" onclick="switchStatsTab('besttime', event)">–õ—É—á—à–µ–µ –≤—Ä–µ–º—è</button>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –û–±–∑–æ—Ä -->
            <div id="overviewStats" class="stats-tab-content active">
                <div class="stats-cards">
                    <div class="mini-card">
                        <div class="mini-icon"><i class="fas fa-eye"></i></div>
                        <div>
                            <div class="mini-label">–°—Ä–µ–¥–Ω–∏–π –æ—Ö–≤–∞—Ç</div>
                            <div class="mini-value" id="avgReach">0</div>
                        </div>
                    </div>
                    <div class="mini-card">
                        <div class="mini-icon"><i class="fas fa-percent"></i></div>
                        <div>
                            <div class="mini-label">ER (–≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å)</div>
                            <div class="mini-value" id="erRate">0%</div>
                        </div>
                    </div>
                    <div class="mini-card">
                        <div class="mini-icon"><i class="fas fa-calendar-week"></i></div>
                        <div>
                            <div class="mini-label">–ü–æ—Å—Ç–æ–≤ –∑–∞ –Ω–µ–¥–µ–ª—é</div>
                            <div class="mini-value" id="postsWeek">0</div>
                        </div>
                    </div>
                    <div class="mini-card">
                        <div class="mini-icon"><i class="fas fa-chart-bar"></i></div>
                        <div>
                            <div class="mini-label">–†–æ—Å—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</div>
                            <div class="mini-value" id="growthRate">+0%</div>
                        </div>
                    </div>
                </div>
                
                <!-- –ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ -->
                <div class="chart-container">
                    <canvas id="activityChart"></canvas>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –ü–æ—Å—Ç—ã (–¢–æ–ø-5) -->
            <div id="postsStats" class="stats-tab-content">
                <div class="top-posts">
                    <h3>üî• –¢–æ–ø-5 –ø–æ—Å—Ç–æ–≤ –ø–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º</h3>
                    <div id="topPostsList" class="posts-list">
                        <div class="loading">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ—Å—Ç–∞—Ö</div>
                    </div>
                    <button class="btn btn-secondary" onclick="showAllPosts()" style="width: 100%; margin-top: 16px;">
                        <i class="fas fa-list"></i> –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø–æ—Å—Ç—ã
                    </button>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –ê—É–¥–∏—Ç–æ—Ä–∏—è -->
            <div id="audienceStats" class="stats-tab-content">
                <div class="audience-stats">
                    <div class="audience-item">
                        <span>–ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ–≥–æ–¥–Ω—è</span>
                        <strong id="activeToday">5-10</strong>
                    </div>
                    <div class="audience-item">
                        <span>–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞ –Ω–µ–¥–µ–ª—é</span>
                        <strong id="activeWeek">15-25</strong>
                    </div>
                    <div class="audience-item">
                        <span>–ú—É–∂—á–∏–Ω—ã/–ñ–µ–Ω—â–∏–Ω—ã</span>
                        <strong id="genderRatio"><span style="color: var(--gray-400);">‚Äî</span></strong>
                    </div>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –õ—É—á—à–µ–µ –≤—Ä–µ–º—è -->
            <div id="bestTimeStats" class="stats-tab-content">
                <div class="best-time-grid" id="bestTimeGrid">
                    <!-- –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ -->
                </div>
            </div>
        </div>
        
        <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Ç–∫–∞ -->
        <div class="grid">
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞ -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-newspaper"></i>
                    </div>
                    <div>
                        <h2 class="card-title">–°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç</h2>
                        <p class="card-subtitle">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤ –∫–∞–Ω–∞–ª ¬´–û–±—ä–µ–∫—Ç–∏–≤–Ω–æ¬ª</p>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-font"></i>
                        –¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞
                    </label>
                    <textarea id="postText" class="form-control" 
                              placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞... (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTML —Ç–µ–≥–∏: &lt;b&gt;, &lt;i&gt;, &lt;a&gt;)"></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-image"></i>
                        URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
                    </label>
                    <input type="text" id="imageUrl" class="form-control" 
                           placeholder="https://example.com/image.jpg">
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-calendar"></i>
                        –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è
                    </label>
                    <input type="datetime-local" id="scheduledTime" class="form-control">
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="publishNow()">
                        <i class="fas fa-paper-plane"></i> –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å
                    </button>
                    <button class="btn btn-secondary" onclick="schedulePost()">
                        <i class="fas fa-clock"></i> –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                </div>
                
                <div id="postStatus" class="status-message"></div>
            </div>
            
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –±—ã—Å—Ç—Ä—ã—Ö —à–∞–±–ª–æ–Ω–û–í (–ü–û–õ–ù–´–ô –°–ü–ò–°–û–ö) -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <div>
                        <h2 class="card-title">–ë—ã—Å—Ç—Ä—ã–µ —à–∞–±–ª–æ–Ω—ã</h2>
                        <p class="card-subtitle">–î–ª—è –æ—Ç—á—ë—Ç–æ–≤ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</p>
                    </div>
                </div>
                
                <!-- –ü–æ–∏—Å–∫ —à–∞–±–ª–æ–Ω–æ–≤ -->
                <div style="margin-bottom: 15px;">
                    <input type="text" id="templateSearch" class="form-control" 
                           placeholder="üîç –ü–æ–∏—Å–∫ —à–∞–±–ª–æ–Ω–æ–≤..." onkeyup="searchTemplates()">
                </div>
                
                <!-- –°—á—ë—Ç—á–∏–∫ —à–∞–±–ª–æ–Ω–æ–≤ -->
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.9rem;">
                    <span>–í—Å–µ–≥–æ —à–∞–±–ª–æ–Ω–æ–≤: <strong id="totalTemplatesCount">24</strong></span>
                    <span>–ü–æ–∫–∞–∑–∞–Ω–æ: <strong id="displayedTemplatesCount">24</strong></span>
                </div>
                
                <!-- –ü–û–õ–ù–´–ô –°–ü–ò–°–û–ö –í–°–ï–• –®–ê–ë–õ–û–ù–û–í -->
                <div id="templatesContainer" class="templates-grid">
                    <!-- –®–∞–±–ª–æ–Ω—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
                
                <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: space-between;">
                    <button class="btn btn-secondary" onclick="resetTemplateSearch()" style="flex: 1;">
                        <i class="fas fa-undo"></i> –°–±—Ä–æ—Å–∏—Ç—å –ø–æ–∏—Å–∫
                    </button>
                    <button class="btn btn-info" onclick="showAllTemplates()" style="flex: 1;">
                        <i class="fas fa-list"></i> –í—Å–µ —à–∞–±–ª–æ–Ω—ã
                    </button>
                </div>
                
                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤ -->
                <div style="margin-top: 15px; display: flex; flex-wrap: wrap; gap: 5px;">
                    <span class="template-category-filter" onclick="filterByCategory('–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ')">üìÖ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</span>
                    <span class="template-category-filter" onclick="filterByCategory('–ü—Ä–æ–µ–∫—Ç')">üöÄ –ü—Ä–æ–µ–∫—Ç—ã</span>
                    <span class="template-category-filter" onclick="filterByCategory('–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ')">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</span>
                    <span class="template-category-filter" onclick="filterByCategory('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞')">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                    <span class="template-category-filter" onclick="filterByCategory('–í–∏–¥–µ–æ')">üé• –í–∏–¥–µ–æ</span>
                    <span class="template-category-filter" onclick="filterByCategory('–§–æ—Ç–æ')">üì∏ –§–æ—Ç–æ</span>
                    <span class="template-category-filter" onclick="filterByCategory('–ê–Ω–æ–Ω—Å')">üîî –ê–Ω–æ–Ω—Å—ã</span>
                    <span class="template-category-filter" onclick="filterByCategory('–ó–∞–ø—É—Å–∫')">üöÄ –ó–∞–ø—É—Å–∫–∏</span>
                </div>
                
                <!-- –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã -->
                <div class="form-group" style="margin-top: 20px;">
                    <label class="form-label">–ú–æ–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã</label>
                    <select id="savedTemplates" class="form-control">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω...</option>
                    </select>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="saveAsTemplate()">
                        <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —à–∞–±–ª–æ–Ω
                    </button>
                    <button class="btn btn-info" onclick="loadTemplate()">
                        <i class="fas fa-download"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å
                    </button>
                </div>
            </div>
            
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-cog"></i>
                    </div>
                    <div>
                        <h2 class="card-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h2>
                        <p class="card-subtitle">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–∞ –∏ –±–æ—Ç–∞</p>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–ö–∞–Ω–∞–ª—ã</label>
                    <div class="info-row">
                        <span class="info-label">–¢–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª:</span>
                        <span class="info-value" id="testChannelId">-1003757225931</span>
                        <button class="btn-icon" onclick="copyToClipboard('-1003757225931')">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <div class="info-row">
                        <span class="info-label">–û—Å–Ω–æ–≤–Ω–æ–π –∫–∞–Ω–∞–ª:</span>
                        <span class="info-value" id="mainChannelId">-1002611788892</span>
                        <button class="btn-icon" onclick="copyToClipboard('-1002611788892')">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ</label>
                    <div class="info-row">
                        <span class="info-label">ID –±–æ—Ç–∞:</span>
                        <span class="info-value">8314217886</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">–¢–æ–∫–µ–Ω:</span>
                        <span class="info-value token-masked">8314217886:AAEkoXvYkk0NC0UwHzf9jKRuHZFIN8nb2vU</span>
                        <button class="btn-icon" onclick="toggleToken()">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–†–µ–∂–∏–º –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</label>
                    <select id="publishMode" class="form-control">
                        <option value="test">–¢–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª (-1003757225931)</option>
                        <option value="main" selected>–û—Å–Ω–æ–≤–Ω–æ–π –∫–∞–Ω–∞–ª (-1002611788892)</option>
                        <option value="both">–û–±–∞ –∫–∞–Ω–∞–ª–∞</option>
                    </select>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-success" onclick="testConnection()">
                        <i class="fas fa-plug"></i> –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
                    </button>
                    <button class="btn btn-danger" onclick="emergencyStop()">
                        <i class="fas fa-stop"></i> –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
                    </button>
                </div>
            </div>
            
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div>
                        <h2 class="card-title">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</h2>
                        <p class="card-subtitle">–û–∂–∏–¥–∞—é—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</p>
                    </div>
                </div>
                
                <div class="scheduled-list" id="scheduledList">
                    <div class="scheduled-empty">
                        <i class="fas fa-calendar-plus"></i>
                        <p>–ù–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤</p>
                    </div>
                </div>
            </div>
            
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –ª–æ–≥–æ–≤ -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <div>
                        <h2 class="card-title">–õ–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π</h2>
                        <p class="card-subtitle">–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</p>
                    </div>
                </div>
                
                <div class="logs-container" id="logsContainer">
                    <div class="log-entry">
                        <span class="log-time">[12:00:00]</span>
                        <span class="log-message">–°–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞</span>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="clearLogs()">
                        <i class="fas fa-trash"></i> –û—á–∏—Å—Ç–∏—Ç—å
                    </button>
                    <button class="btn btn-secondary" onclick="exportLogs()">
                        <i class="fas fa-download"></i> –≠–∫—Å–ø–æ—Ä—Ç
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="session-info">
            <div class="session-item">
                <i class="fas fa-telegram"></i>
                <span>–ö–∞–Ω–∞–ª: <strong>@objektivno</strong></span>
            </div>
            <div class="session-item">
                <i class="fas fa-clock"></i>
                <span>–°–µ—Å—Å–∏—è: <span id="sessionTime">00:00:00</span></span>
            </div>
            <div class="session-item">
                <i class="fas fa-database"></i>
                <span>–ü–æ—Å—Ç–æ–≤: <span id="totalPosts">0</span></span>
            </div>
            <button class="btn-logout" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> –í—ã—Ö–æ–¥
            </button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ –≤—Å–µ–º–∏ –ø–æ—Å—Ç–∞–º–∏ -->
    <div id="allPostsModal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h3><i class="fas fa-history"></i> –í—Å–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã</h3>
                <button class="modal-close" onclick="closeAllPostsModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="posts-filter" style="margin-bottom: 20px;">
                    <input type="text" id="postSearchInput" class="form-control" 
                           placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –ø–æ—Å—Ç–∞–º..." onkeyup="filterPosts()">
                </div>
                <div class="posts-sort" style="margin-bottom: 20px; display: flex; gap: 10px; align-items: center;">
                    <span style="color: var(--gray-600);">–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å:</span>
                    <select id="sortPostsSelect" class="form-control" style="width: auto;" onchange="sortPosts()">
                        <option value="date_desc">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                        <option value="date_asc">–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>
                        <option value="views_desc">–ü–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º (—É–±—ã–≤.)</option>
                        <option value="views_asc">–ü–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º (–≤–æ–∑—Ä.)</option>
                    </select>
                </div>
                <div id="allPostsList" class="all-posts-list" style="max-height: 500px; overflow-y: auto;">
                    <!-- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ—Å—Ç–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —Å—é–¥–∞ -->
                    <div class="loading">–ù–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤</div>
                </div>
            </div>
            <div class="modal-footer">
                <div style="flex: 1; color: var(--gray-600);">
                    –í—Å–µ–≥–æ –ø–æ—Å—Ç–æ–≤: <span id="totalPostsCount">0</span>
                </div>
                <button class="btn btn-secondary" onclick="closeAllPostsModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
                <button class="btn btn-primary" onclick="exportAllPosts()">
                    <i class="fas fa-download"></i> –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ—Å—Ç–∞ -->
    <div id="viewPostModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h3><i class="fas fa-file-alt"></i> –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å—Ç–∞</h3>
                <button class="modal-close" onclick="closeViewPostModal()">&times;</button>
            </div>
            <div class="modal-body" id="viewPostContent">
                <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å—Ç–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ —Å—é–¥–∞ -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeViewPostModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
                <button class="btn btn-danger" onclick="deleteCurrentPost()">
                    <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
                </button>
            </div>
        </div>
    </div>

    <!-- –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
    <style>
        .template-category-filter {
            background: var(--gray-100);
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 0.8rem;
            color: var(--gray-700);
            cursor: pointer;
            border: 1px solid var(--gray-300);
            transition: all 0.2s;
            display: inline-block;
        }
        .template-category-filter:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        .template-category-filter.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
    </style>

    <script src="script.js" type="module"></script>
</body>
</html>
